[debug] [2025-02-12T01:08:41.666Z] ----------------------------------------------------------------------
[debug] [2025-02-12T01:08:41.669Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\marti\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions:processCatVisits
[debug] [2025-02-12T01:08:41.670Z] CLI Version:   13.30.0
[debug] [2025-02-12T01:08:41.670Z] Platform:      win32
[debug] [2025-02-12T01:08:41.670Z] Node Version:  v18.20.5
[debug] [2025-02-12T01:08:41.671Z] Time:          Wed Feb 12 2025 02:08:41 GMT+0100 (Central European Standard Time)
[debug] [2025-02-12T01:08:41.671Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-02-12T01:08:41.923Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-02-12T01:08:41.924Z] > authorizing via signed-in user (martin.erlic@gmail.com)
[debug] [2025-02-12T01:08:41.924Z] [iam] checking project babaselo-4b77e for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-02-12T01:08:41.925Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:41.926Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:41.927Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e:testIamPermissions [none]
[debug] [2025-02-12T01:08:41.928Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e:testIamPermissions x-goog-quota-user=projects/babaselo-4b77e
[debug] [2025-02-12T01:08:41.928Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-02-12T01:08:42.918Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e:testIamPermissions 200
[debug] [2025-02-12T01:08:42.918Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-02-12T01:08:42.919Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:42.919Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:42.919Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/babaselo-4b77e/serviceAccounts/babaselo-4b77e@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-02-12T01:08:42.919Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/babaselo-4b77e/serviceAccounts/babaselo-4b77e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-02-12T01:08:43.975Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/babaselo-4b77e/serviceAccounts/babaselo-4b77e@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-02-12T01:08:43.975Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/babaselo-4b77e/serviceAccounts/babaselo-4b77e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'babaselo-4b77e'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] +  functions: Finished running predeploy script. 
[debug] [2025-02-12T01:08:54.895Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:54.895Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:54.896Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e [none]
[debug] [2025-02-12T01:08:55.770Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e 200
[debug] [2025-02-12T01:08:55.770Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e {"projectNumber":"955642517662","projectId":"babaselo-4b77e","lifecycleState":"ACTIVE","name":"BabaSelo","labels":{"firebase":"enabled"},"createTime":"2023-03-29T02:37:34.167463Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-02-12T01:08:55.771Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:55.771Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:55.771Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:55.771Z] Checked if tokens are valid: true, expires at: 1739323636426
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-02-12T01:08:55.772Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:55.772Z] Checked if tokens are valid: true, expires at: 1739323636426
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-02-12T01:08:55.772Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:55.772Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:55.773Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/cloudfunctions.googleapis.com [none]
[debug] [2025-02-12T01:08:55.773Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/babaselo-4b77e
[debug] [2025-02-12T01:08:55.774Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/runtimeconfig.googleapis.com [none]
[debug] [2025-02-12T01:08:55.774Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/babaselo-4b77e
[debug] [2025-02-12T01:08:55.775Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/cloudbuild.googleapis.com [none]
[debug] [2025-02-12T01:08:55.775Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/cloudbuild.googleapis.com x-goog-quota-user=projects/babaselo-4b77e
[debug] [2025-02-12T01:08:55.776Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/artifactregistry.googleapis.com [none]
[debug] [2025-02-12T01:08:55.776Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/artifactregistry.googleapis.com x-goog-quota-user=projects/babaselo-4b77e
[debug] [2025-02-12T01:08:56.868Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/runtimeconfig.googleapis.com 200
[debug] [2025-02-12T01:08:56.868Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-02-12T01:08:56.874Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/cloudfunctions.googleapis.com 200
[debug] [2025-02-12T01:08:56.874Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-02-12T01:08:56.882Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/artifactregistry.googleapis.com 200
[debug] [2025-02-12T01:08:56.883Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-02-12T01:08:56.884Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/cloudbuild.googleapis.com 200
[debug] [2025-02-12T01:08:56.884Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-02-12T01:08:56.885Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:56.885Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:56.885Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/babaselo-4b77e/adminSdkConfig [none]
[debug] [2025-02-12T01:08:57.843Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/babaselo-4b77e/adminSdkConfig 200
[debug] [2025-02-12T01:08:57.843Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/babaselo-4b77e/adminSdkConfig {"projectId":"babaselo-4b77e","storageBucket":"babaselo-4b77e.appspot.com","locationId":"us-central"}
[debug] [2025-02-12T01:08:57.843Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:57.843Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:08:57.843Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/babaselo-4b77e/configs [none]
[debug] [2025-02-12T01:08:58.339Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/babaselo-4b77e/configs 200
[debug] [2025-02-12T01:08:58.339Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/babaselo-4b77e/configs {}
[debug] [2025-02-12T01:08:58.340Z] Validating nodejs source
[debug] [2025-02-12T01:08:59.764Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-02-12T01:08:59.765Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-02-12T01:08:59.767Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-02-12T01:08:59.780Z] Found firebase-functions binary at 'C:\Users\marti\Documents\Web Projects\baba-selo-voice\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8387

[debug] [2025-02-12T01:09:00.531Z] Got response from /__/functions.yaml {"endpoints":{"processCatVisits":{"availableMemoryMb":256,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every 5 minutes","retryConfig":{}},"entryPoint":"processCatVisits"},"testCatVisit":{"availableMemoryMb":256,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"testCatVisit"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-02-12T01:09:00.565Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:00.565Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:00.565Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/firebaseextensions.googleapis.com [none]
[debug] [2025-02-12T01:09:00.565Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/babaselo-4b77e
[debug] [2025-02-12T01:09:01.617Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/firebaseextensions.googleapis.com 200
[debug] [2025-02-12T01:09:01.617Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/firebaseextensions.googleapis.com [omitted]
[info] +  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-02-12T01:09:01.617Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-02-12T01:09:01.618Z] > authorizing via signed-in user (martin.erlic@gmail.com)
[debug] [2025-02-12T01:09:01.618Z] [iam] checking project babaselo-4b77e for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-02-12T01:09:01.618Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:01.618Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:01.618Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e:testIamPermissions [none]
[debug] [2025-02-12T01:09:01.618Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e:testIamPermissions x-goog-quota-user=projects/babaselo-4b77e
[debug] [2025-02-12T01:09:01.618Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-02-12T01:09:02.574Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e:testIamPermissions 200
[debug] [2025-02-12T01:09:02.575Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-02-12T01:09:02.575Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:02.575Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:02.576Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/babaselo-4b77e/instances pageSize=100&pageToken=
[debug] [2025-02-12T01:09:03.654Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/babaselo-4b77e/instances 200
[debug] [2025-02-12T01:09:03.654Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/babaselo-4b77e/instances {"instances":[{"name":"projects/babaselo-4b77e/instances/firestore-typesense-search","createTime":"2023-07-20T11:27:10.420181Z","updateTime":"2023-07-20T11:31:17.860939Z","state":"ACTIVE","config":{"name":"projects/babaselo-4b77e/instances/firestore-typesense-search/configurations/f2d4a92f-f848-47e7-bea8-1f4f815db70e","createTime":"2023-07-20T11:27:10.420181Z","source":{"name":"projects/firestore-search-extension/sources/e6660bba-39a0-4b48-b836-d86138ce505b","packageUri":"https://storage.googleapis.com/firebase-extensions-packages-prod/typesense-firestore-typesense-search-1.0.3-53bf3195-bee6-40ad-b152-550c2ed52775.zip","hash":"0c2185a3d8eff5aa7786ed7a1cdd48a97394cb6f2409c580417d923ceb5f62bb","extensionRoot":"/","spec":{"specVersion":"v1beta","name":"firestore-typesense-search","version":"1.0.3","description":"Indexes data from Firestore into Typesense for full-text search","roles":[{"role":"datastore.user","reason":"Required to backfill data from your Firestore collection into Typesense"}],"resources":[{"name":"indexToTypesenseOnFirestoreWrite","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${param:PROJECT_ID}/databases/(default)/documents/${param:FIRESTORE_COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs14\nsourceDirectory: functions\ntimeout: 120s\n","description":"A function that indexes data into Typesense when it's triggered by Firestore changes","deletionPolicy":"DELETE"},{"name":"backfillToTypesenseFromFirestore","type":"firebaseextensions.v1beta.function","propertiesYaml":"availableMemoryMb: 2048\neventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${param:PROJECT_ID}/databases/(default)/documents/typesense_sync/backfill\nlocation: ${LOCATION}\nmaxInstances: 1\nruntime: nodejs14\nsourceDirectory: functions\ntimeout: 540s\n","description":"A function that backfills data from a Firestore collection into Typesense, triggered when a Firestore document with the path `typesense_sync/backfill` has the contents of `trigger: true`.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Typesense","url":"https://typesense.org"},"license":"Apache-2.0","releaseNotesUrl":"https://github.com/typesense/firestore-typesense-search/releases","sourceUrl":"https://github.com/typesense/firebase-typesense-search-extension/tree/master","params":[{"param":"FIRESTORE_COLLECTION_PATH","label":"Firestore Collection Path","type":"STRING","description":"The Firestore collection that needs to be indexed into Typesense.","required":true,"default":"path/to/firestore_collection","example":"path/to/firestore_collection","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/firestore_collection\".","immutable":true},{"param":"FIRESTORE_COLLECTION_FIELDS","label":"Firestore Collection Fields","type":"STRING","description":"A comma separated list of fields that need to be indexed from each Firestore document. Leave blank to index all fields.","example":"field1,field2,field3"},{"param":"TYPESENSE_HOSTS","label":"Typesense Hosts","type":"STRING","description":"A comma-separated list of Typesense Hosts. For single node clusters, a single hostname is sufficient. For multi-node Highly Available or SDN Clusters, please be sure to mention all hostnames.","required":true,"example":"xyz.a1.typesense.net,xyz-1.a1.typesense.net,xyz-2.a1.typesense.net,xyz-3.a1.typesense.net"},{"param":"TYPESENSE_API_KEY","label":"Typesense API Key","type":"SECRET","description":"An Typesense API key with admin permissions. Click on \"Generate API Key\" in cluster dashboard in Typesense Cloud","required":true},{"param":"TYPESENSE_COLLECTION_NAME","label":"Typesense Collection Name","type":"STRING","description":"Typesense collection name to index data into. This collection needs to exist before this extension is installed. Please create it via the Typesense Cloud dashboard or API.","required":true,"default":"companies"},{"param":"FLATTEN_NESTED_DOCUMENTS","label":"Flatten Nested Documents","type":"SELECT","description":"Should nested documents in Firestore be flattened by this extension before they are indexed in Typesense?  Set to \"Yes\" for Typesense versions 0.23.1 and earlier. Set to \"No\" for Typesense versions 0.24.0 and later.","options":[{"value":"false","label":"No"},{"value":"true","label":"Yes"}],"default":"false"},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"default":"us-central1","immutable":true}],"preinstallContent":"Use this extension to sync data from your Firestore collection to [Typesense](https://typesense.org/), to be able to \ndo full-text fuzzy search on your Firestore data.\n\nThis extension listens to your specified Firestore collection and syncs Firestore documents to Typesense \non creation, updates and deletes. It also provides a function to help you backfill data.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you have:\n\n1. [Set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n2. [Setup](https://typesense.org/docs/0.20.0/guide/install-typesense.html) a Typesense cluster \n  (on [Typesense Cloud](https://cloud.typesense.org) or a Self-Hosted server).\n3. Setup a Typesense Collection either through the Typesense Cloud dashboard or \n  through the [API](https://typesense.org/docs/0.20.0/api/collections.html#create-a-collection).\n\nThis extension will sync changes that happen _after_ you've installed the extension. You'll be able to run a function \nto backfill existing data in your Firestore collection. Detailed information for running this backfill function \nwill be provided after you install this extension.\n\n#### Billing\n\nTo install an extension, your project must be on the [Blaze (pay as you go) plan](https://firebase.google.com/pricing)\n\n- You will be charged a small amount (typically around $0.01/month) for the Firebase resources required by this extension (even if it is not used).\n- This extension uses other Firebase and Google Cloud Platform services, which have associated charges if you exceed the serviceâ€™s free tier:\n    - Cloud Firestore\n    - Cloud Functions (Node.js 14+ runtime. [See FAQs](https://firebase.google.com/support/faq#expandable-24))\n- Usage of this extension also requires you to have a running Typesense cluster either on Typesense Cloud or some \n  self-hosted server. You are responsible for any associated costs with these services.\n","postinstallContent":"### Post-installation Notes\n\nNow that you've installed the extension, changes from `${param:FIRESTORE_COLLECTION_PATH}`\nin your Firestore Database will be synced to the Typesense Collection `${param:TYPESENSE_COLLECTION_NAME}`\non `${param:TYPESENSE_HOSTS}`.\n\n### Pre-requisites\n\nAs a reminder in case you haven't already done this, make sure that you have setup a Typesense Collection in one of the following ways:\n\n- Through the Typesense Cloud Dashboard or\n- Through the [API](https://typesense.org/docs/0.20.0/api/collections.html#create-a-collection).\n\nThis extension expects a Typesense Cloud collection to already be created and does not create it for you.\n\n### Backfilling Data\n\nThis extension only syncs data that was created or changed after it was installed.\nIn order to backfill data that already exists in your Firestore collection to your Typesense Collection:\n\n1. Create a new Firestore collection called `typesense_sync` through the Firestore UI.\n2. Create a new document with the ID `backfill` and contents of `{trigger: true}`\n\nThis will trigger the backfill background function, which will read data from your Firestore collection and create equivalent documents in your Typesense collection.\n\n### See the Extension in Action\n\nTry adding or updating a Firestore document in `${param:FIRESTORE_COLLECTION_PATH}` through the Firestore UI.\nYou should see the change reflected in your Typesense collection.\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Firestore / Firebase Typesense Search Extension âš¡ ðŸ” \n\n[![CircleCI](https://circleci.com/gh/typesense/firestore-typesense-search.svg?style=shield)](https://circleci.com/gh/typesense/firestore-typesense-search)\n\nA Firebase extension to sync data from your Firestore collection to [Typesense](https://typesense.org/), \nto be able to do full-text fuzzy search on your Firestore data, with typo tolerance, faceting, filtering, sorting, curation, synonyms, geosearch and more.\n\nThis extension listens to your specified Firestore collection and syncs Firestore documents to Typesense \non creation, updates and deletes. It also provides a function to help you backfill data.\n\n**What is Typesense?**\n\nIf you're new to [Typesense](https://typesense.org), it is an open source search engine that is simple to use, run and scale, with clean APIs and documentation. Think of it as an open source alternative to Algolia and an easier-to-use, batteries-included alternative to ElasticSearch. Get a quick overview from [this guide](https://typesense.org/docs/guide).\n\n\n## âš™ï¸ Usage\n\n### Step 1ï¸âƒ£ : Setup Prerequisites\n\nBefore installing this extension, make sure that you have:\n\n1. [Set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n2. [Set up](https://typesense.org/docs/guide/install-typesense.html) a Typesense cluster on [Typesense Cloud](https://cloud.typesense.org) or [Self-Hosted](https://typesense.org/docs/guide/install-typesense.html#option-2-local-machine-self-hosting) (free).\n3. Set up a Typesense Collection either through the Typesense Cloud dashboard or \n  through the [API](https://typesense.org/docs/latest/api/collections.html#create-a-collection).\n  \nâš ï¸ â˜ï¸ #3 above is a commonly missed step. This extension **does not create the Typesense Collection for you**. Instead it syncs data to a Typesense collection you've already created. If you see an HTTP 404 in the extension logs, it's most likely because of missing this step. \n\n### Step 2ï¸âƒ£ : Install the Extension \n\nYou can install this extension either through the Firebase Web console or through the Firebase CLI.\n\n##### Firebase Console\n\n[![Install this extension in your Firebase project](https://www.gstatic.com/mobilesdk/210513_mobilesdk/install-extension.png \"Install this extension in your Firebase project\")][install-link]\n\n[install-link]: https://console.firebase.google.com/project/_/extensions/install?ref=typesense/firestore-typesense-search\n\n##### Firebase CLI\n\n```bash\nfirebase ext:install typesense/firestore-typesense-search --project=[your-project-id]\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [Console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli).\n\n#### ðŸŽ›ï¸ Configuration Parameters\n\nWhen you install this extension, you'll be able to configure the following parameters:\n\n| Parameter                   | Description                                                                                                                                                                                                                                                                                    |\n|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Firestore Collection Path   | The Firestore collection that needs to be indexed into Typesense.                                                                                                                                                                                                                              |\n| Firestore Collection Fields | A comma separated list of fields that need to be indexed from each Firestore document. Leave blank to index all fields.                                                                                                                                                                        |\n| Flatten Nested Documents    | Should nested documents in Firestore be flattened before they are indexed in Typesense? Set to \"Yes\" for Typesense Server versions v0.23.1 and below, since indexing Nested objects is natively supported only in Typesense Server v0.24 and above.                                            |\n| Typesense Hosts             | A comma-separated list of Typesense Hosts (only domain without https or port number). For single node clusters, a single hostname is sufficient. For multi-node Highly Available or (Search Delivery Network) SDN Clusters, please be sure to mention all hostnames in a comma-separated list. | \n| Typesense API Key           | A Typesense API key with admin permissions. Click on \"Generate API Key\" in cluster dashboard in Typesense Cloud.                                                                                                                                                                               |\n| Typesense Collection Name   | Typesense collection name to index data into (you need to create this collection in Typesense yourself. This extension does not create the Typesense Collection for you).                                                                                                                      |\n| Cloud Functions location    | Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).                                        |\n\n> âš ï¸ You'll notice that there is no way to configure the port number or protocol.\nThis is because this extension only supports connecting to Typesense running HTTPS on Port 443, since your data goes from Firebase to Typesense over the public internet and we want your data to be encrypted in transit.\nFor Typesense Cloud, HTTPS is already configured for you.\n> \n> When self-hosting Typesense, you want to make sure you set `--api-port=443` and also get an SSL certificate from say [LetsEncrypt](https://letsencrypt.org/) or any registrar\nand configure Typesense to use it using the `--ssl-certificate` and `--ssl-certificate-key` [server parameters](https://typesense.org/docs/latest/api/server-configuration.html).\n> Alternatively, if you're running Typesense on your local machine, you can also set up a local HTTPS tunnel using something like [ngrok](https://ngrok.com/) (`ngrok http 8108`) and use the ngrok hostname in the extension. \n\n##### Example\n\nIf you have a Firestore database like this called `users`:\n\n<img src=\"assets/firestore_db_example.png\" alt=\"Firestore DB Example\" width=\"800\"/>\n\nHere's the extension configuration screen with all the options filled out, if you want to sync the `users` Firestore collection to Typesense:\n\n<img src=\"assets/extension_configuration_example.png\" alt=\"Firestore DB Example\" width=\"500\" />\n\n#### Syncing Multiple Firestore collections\n\nYou can install this extension multiple times in your Firebase project by clicking on the installation link above multiple times, and use a different Firestore collection path in each installation instance. [Here](https://github.com/typesense/firestore-typesense-search/issues/9#issuecomment-885940705) is a screenshot of how this looks.\n\n### Step 3ï¸âƒ£ : [Optional] Backfill existing data\n\nThis extension only syncs data that was created or changed in Firestore, after it was installed. In order to backfill data that already exists in your Firestore collection to your Typesense Collection:\n\n- Create a new Firestore collection called `typesense_sync` through the Firestore UI.\n- Create a new document with the ID `backfill` and contents of `{trigger: true}`\n- [Optional] If you have [multiple instances](#syncing-multiple-firestore-collections) of the extension installed to sync multiple collections, you can specify which particular collections are backfilled by setting the contents of the `backfill` document in the previous step to `{trigger: true, firestore_collections: [\"path/to/firestore_collection_1\", \"path/to/firestore_collection_2\"] }`\n\nThis will trigger the backfill background Cloud function, which will read data from your Firestore collection(s) and create equivalent documents in your Typesense collection.\n\n## â˜ï¸ Cloud Functions\n\n* **indexToTypesenseOnFirestoreWrite:** A function that indexes data into Typesense when it's triggered by Firestore changes.\n\n* **backfillToTypesenseFromFirestore:** A function that backfills data from a Firestore collection into Typesense, triggered when a Firestore document with the path `typesense_sync/backfill` has the contents of `trigger: true`.\n\n\n## ðŸ”‘ Access Required\n\nThis extension will operate with the following project IAM roles:\n\n* datastore.user (Reason: Required to backfill data from your Firestore collection into Typesense)\n\n## ðŸ§¾ Billing\n\nTo install an extension, your project must be on the [Blaze (pay as you go) plan](https://firebase.google.com/pricing).\n\n- You will be charged a small amount (typically around $0.01/month) for the Firebase resources required by this extension (even if it is not used).\n- This extension uses other Firebase and Google Cloud Platform services, which have associated charges if you exceed the serviceâ€™s free tier:\n  - Cloud Firestore\n  - Cloud Functions (Node.js 14+ runtime. [See FAQs](https://firebase.google.com/support/faq#expandable-24))\n- Usage of this extension also requires you to have a running Typesense cluster either on Typesense Cloud or some\n  self-hosted server. You are responsible for any associated costs with these services.\n\n\n## Development Workflow\n\n#### Run Emulator\n\n```shell\nnpm run emulator\nnpm run typesenseServer\n```\n\n- Emulator UI will be accessible at http://localhost:4000.\n- Local Typesense server will be accessible at http://localhost:8108\n\nAdd records in the Firestore UI and they should be created in Typesense.\n\n#### Run Integration Tests\n\n```shell\nnpm run test\n```\n\n#### Generate README\n\nThe Firebase CLI provides the following convenience command to auto-generate a README file containing content\npulled from extension.yaml file and PREINSTALL.md file:\n\n```shell\nfirebase ext:info ./ --markdown > README.md\n```\n\n#### Publish Extension\n\n- Update version number in extension.yaml\n- Add entry to CHANGELOG.md\n- Create release in GitHub\n- \n    ```shell\n    firebase ext:dev:upload typesense/firestore-typesense-search\n    ```\n\n## â„¹ï¸ Support\n\nPlease open a Github issue or join our [Slack community](https://join.slack.com/t/typesense-community/shared_invite/zt-mx4nbsbn-AuOL89O7iBtvkz136egSJg).\n","externalServices":[{"name":"Typesense Cloud","pricingUri":"https://cloud.typesense.org/pricing"},{"name":"Typesense Self Hosted (Free)","pricingUri":"https://typesense.org/downloads"}],"displayName":"Search Firestore with Typesense"},"fetchTime":"2023-05-19T00:48:48.905323Z","lastOperationName":"projects/firestore-search-extension/operations/ba2f72e4-9cb1-4793-83e3-91afd8d98cbe","state":"ACTIVE"},"params":{"FIRESTORE_COLLECTION_PATH":"recipes","FIRESTORE_COLLECTION_FIELDS":"category,cuisineType,ingredients,preferredCookingOil,dietaryLabels,imageURL,recipeText,recipeTitle,userId","TYPESENSE_HOSTS":"nafqzio375jsbwrkp-1.a1.typesense.net","TYPESENSE_API_KEY":"projects/955642517662/secrets/firestore-typesense-search-TYPESENSE_API_KEY/versions/1","TYPESENSE_COLLECTION_NAME":"recipes","FLATTEN_NESTED_DOCUMENTS":"false","LOCATION":"us-central1"},"populatedPostinstallContent":"### Post-installation Notes\n\nNow that you've installed the extension, changes from `recipes`\nin your Firestore Database will be synced to the Typesense Collection `recipes`\non `nafqzio375jsbwrkp-1.a1.typesense.net`.\n\n### Pre-requisites\n\nAs a reminder in case you haven't already done this, make sure that you have setup a Typesense Collection in one of the following ways:\n\n- Through the Typesense Cloud Dashboard or\n- Through the [API](https://typesense.org/docs/0.20.0/api/collections.html#create-a-collection).\n\nThis extension expects a Typesense Cloud collection to already be created and does not create it for you.\n\n### Backfilling Data\n\nThis extension only syncs data that was created or changed after it was installed.\nIn order to backfill data that already exists in your Firestore collection to your Typesense Collection:\n\n1. Create a new Firestore collection called `typesense_sync` through the Firestore UI.\n2. Create a new document with the ID `backfill` and contents of `{trigger: true}`\n\nThis will trigger the backfill background function, which will read data from your Firestore collection and create equivalent documents in your Typesense collection.\n\n### See the Extension in Action\n\nTry adding or updating a Firestore document in `recipes` through the Firestore UI.\nYou should see the change reflected in your Typesense collection.\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","extensionRef":"typesense/firestore-typesense-search","extensionVersion":"1.0.3","systemParams":{"firebaseextensions.v1beta.function/memory":"256","firebaseextensions.v1beta.function/vpcConnectorEgressSettings":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","firebaseextensions.v1beta.function/minInstances":"0","firebaseextensions.v1beta.function/maxInstances":"3000"}},"lastOperationName":"projects/babaselo-4b77e/operations/8dcc4123-3e40-48e0-b60f-286332338afb","serviceAccountEmail":"ext-firestore-typesense-search@babaselo-4b77e.iam.gserviceaccount.com","lastOperationType":"CREATE","etag":"2d9895da3f77b70b120304e3c0721820b0631a3fe08909dc68194f12a30c2557"}]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\marti\Documents\Web Projects\baba-selo-voice\functions (98.5 KB) for uploading 
[debug] [2025-02-12T01:09:03.743Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:03.743Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:03.743Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/babaselo-4b77e/locations/-/functions [none]
[debug] [2025-02-12T01:09:04.532Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/babaselo-4b77e/locations/-/functions 200
[debug] [2025-02-12T01:09:04.532Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/babaselo-4b77e/locations/-/functions {"functions":[{"name":"projects/babaselo-4b77e/locations/us-central1/functions/ext-firestore-typesense-search-indexToTypesenseOnFirestoreWrite","description":"A function that indexes data into Typesense when it's triggered by Firestore changes","sourceArchiveUrl":"gs://firebase-mod-sources-prod/65f6fb059096bfd23d4d38b14de3f27a36b05e78874fb956403486239d00f02f","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/babaselo-4b77e/databases/(default)/documents/recipes/{documentID}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"indexToTypesenseOnFirestoreWrite","timeout":"120s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-typesense-search@babaselo-4b77e.iam.gserviceaccount.com","updateTime":"2023-07-20T11:31:05.460Z","versionId":"2","labels":{"deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-typesense-search","firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-typesense-search","goog-firebase-ext":"firestore-typesense-search"},"environmentVariables":{"DATABASE_INSTANCE":"","DATABASE_URL":"","EXT_INSTANCE_ID":"firestore-typesense-search","FIREBASE_CONFIG":"{\"projectId\":\"babaselo-4b77e\",\"databaseURL\":\"\",\"storageBucket\":\"babaselo-4b77e.appspot.com\"}","FIRESTORE_COLLECTION_FIELDS":"category,cuisineType,ingredients,preferredCookingOil,dietaryLabels,imageURL,recipeText,recipeTitle,userId","FIRESTORE_COLLECTION_PATH":"recipes","FLATTEN_NESTED_DOCUMENTS":"false","GCLOUD_PROJECT":"babaselo-4b77e","LOCATION":"us-central1","PROJECT_ID":"babaselo-4b77e","STORAGE_BUCKET":"babaselo-4b77e.appspot.com","TYPESENSE_COLLECTION_NAME":"recipes","TYPESENSE_HOSTS":"nafqzio375jsbwrkp-1.a1.typesense.net"},"runtime":"nodejs14","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"49434b89-17cd-4bab-a598-956dea27e5ec","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"TYPESENSE_API_KEY","projectId":"955642517662","secret":"firestore-typesense-search-TYPESENSE_API_KEY","version":"1"}],"buildName":"projects/955642517662/locations/us-central1/builds/49434b89-17cd-4bab-a598-956dea27e5ec","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/babaselo-4b77e/locations/us-central1/functions/ext-firestore-typesense-search-backfillToTypesenseFromFirestore","description":"A function that backfills data from a Firestore collection into Typesense, triggered when a Firestore document with the path `typesense_sync/backfill` has the contents of `trigger: true`.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/65f6fb059096bfd23d4d38b14de3f27a36b05e78874fb956403486239d00f02f","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/babaselo-4b77e/databases/(default)/documents/typesense_sync/backfill","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"backfillToTypesenseFromFirestore","timeout":"540s","availableMemoryMb":2048,"serviceAccountEmail":"ext-firestore-typesense-search@babaselo-4b77e.iam.gserviceaccount.com","updateTime":"2023-07-20T11:30:46.154Z","versionId":"2","labels":{"goog-firebase-ext":"firestore-typesense-search","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-typesense-search","firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-typesense-search"},"environmentVariables":{"DATABASE_INSTANCE":"","DATABASE_URL":"","EXT_INSTANCE_ID":"firestore-typesense-search","FIREBASE_CONFIG":"{\"projectId\":\"babaselo-4b77e\",\"databaseURL\":\"\",\"storageBucket\":\"babaselo-4b77e.appspot.com\"}","FIRESTORE_COLLECTION_FIELDS":"category,cuisineType,ingredients,preferredCookingOil,dietaryLabels,imageURL,recipeText,recipeTitle,userId","FIRESTORE_COLLECTION_PATH":"recipes","FLATTEN_NESTED_DOCUMENTS":"false","GCLOUD_PROJECT":"babaselo-4b77e","LOCATION":"us-central1","PROJECT_ID":"babaselo-4b77e","STORAGE_BUCKET":"babaselo-4b77e.appspot.com","TYPESENSE_COLLECTION_NAME":"recipes","TYPESENSE_HOSTS":"nafqzio375jsbwrkp-1.a1.typesense.net"},"runtime":"nodejs14","maxInstances":1,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"47ce5611-c9a7-4ff0-b6c7-f8cb1841008f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"TYPESENSE_API_KEY","projectId":"955642517662","secret":"firestore-typesense-search-TYPESENSE_API_KEY","version":"1"}],"buildName":"projects/955642517662/locations/us-central1/builds/47ce5611-c9a7-4ff0-b6c7-f8cb1841008f","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2025-02-12T01:09:04.532Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:04.532Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:04.533Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-02-12T01:09:05.707Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/-/functions 200
[debug] [2025-02-12T01:09:05.707Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/-/functions {"functions":[{"name":"projects/babaselo-4b77e/locations/us-central1/functions/testCatVisit","buildConfig":{"build":"projects/955642517662/locations/us-central1/builds/be3b4a18-b4b2-4af1-8048-651b8ce9922a","runtime":"nodejs22","entryPoint":"testCatVisit","source":{"storageSource":{"bucket":"gcf-v2-sources-955642517662-us-central1","object":"testCatVisit/function-source.zip","generation":"1739319678817337"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/babaselo-4b77e/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-955642517662-us-central1","object":"testCatVisit/function-source.zip","generation":"1739319678817337"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/babaselo-4b77e/locations/us-central1/services/testcatvisit","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"babaselo-4b77e\",\"storageBucket\":\"babaselo-4b77e.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"babaselo-4b77e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/babaselo-4b77e/locations/us-central1/services/testCatVisit","FUNCTION_TARGET":"testCatVisit","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://testcatvisit-wgj2hge6tq-uc.a.run.app","serviceAccountEmail":"955642517662-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"testcatvisit-00014-ped","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-02-12T00:22:27.804541948Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"52d6edae544db5f092933f821c4d8fbfa9139645"},"environment":"GEN_2","url":"https://us-central1-babaselo-4b77e.cloudfunctions.net/testCatVisit","createTime":"2025-02-11T20:08:15.243593528Z","satisfiesPzi":true},{"name":"projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits","buildConfig":{"build":"projects/955642517662/locations/us-central1/builds/64f8bf4b-0779-4339-b8b3-e5c66e591512","runtime":"nodejs22","entryPoint":"processCatVisits","source":{"storageSource":{"bucket":"gcf-v2-sources-955642517662-us-central1","object":"processCatVisits/function-source.zip","generation":"1739321415323528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/babaselo-4b77e/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-955642517662-us-central1","object":"processCatVisits/function-source.zip","generation":"1739321415323528"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/babaselo-4b77e/locations/us-central1/services/processcatvisits","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"babaselo-4b77e\",\"storageBucket\":\"babaselo-4b77e.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"babaselo-4b77e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/babaselo-4b77e/locations/us-central1/services/processCatVisits","FUNCTION_TARGET":"processCatVisits","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://processcatvisits-wgj2hge6tq-uc.a.run.app","serviceAccountEmail":"955642517662-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"processcatvisits-00013-bev","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-02-12T00:52:22.000193959Z","labels":{"deployment-scheduled":"true","firebase-functions-hash":"582cf475246579d3e0c1b85d950980c8891e3711","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-babaselo-4b77e.cloudfunctions.net/processCatVisits","createTime":"2025-02-11T20:01:53.145970895Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-02-12T01:09:05.711Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:05.711Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:05.711Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/cloudscheduler.googleapis.com [none]
[debug] [2025-02-12T01:09:05.711Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/babaselo-4b77e
[debug] [2025-02-12T01:09:06.977Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/cloudscheduler.googleapis.com 200
[debug] [2025-02-12T01:09:06.977Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/cloudscheduler.googleapis.com [omitted]
[info] +  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-02-12T01:09:06.978Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:06.978Z] Checked if tokens are valid: true, expires at: 1739323636426
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-02-12T01:09:06.978Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:06.978Z] Checked if tokens are valid: true, expires at: 1739323636426
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-02-12T01:09:06.979Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:06.979Z] Checked if tokens are valid: true, expires at: 1739323636426
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-02-12T01:09:06.979Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:06.979Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:06.979Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/run.googleapis.com [none]
[debug] [2025-02-12T01:09:06.979Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/run.googleapis.com x-goog-quota-user=projects/babaselo-4b77e
[debug] [2025-02-12T01:09:06.981Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/eventarc.googleapis.com [none]
[debug] [2025-02-12T01:09:06.981Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/eventarc.googleapis.com x-goog-quota-user=projects/babaselo-4b77e
[debug] [2025-02-12T01:09:06.982Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/pubsub.googleapis.com [none]
[debug] [2025-02-12T01:09:06.982Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/pubsub.googleapis.com x-goog-quota-user=projects/babaselo-4b77e
[debug] [2025-02-12T01:09:06.983Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/storage.googleapis.com [none]
[debug] [2025-02-12T01:09:06.984Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/storage.googleapis.com x-goog-quota-user=projects/babaselo-4b77e
[debug] [2025-02-12T01:09:08.006Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/eventarc.googleapis.com 200
[debug] [2025-02-12T01:09:08.006Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/eventarc.googleapis.com [omitted]
[info] +  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-02-12T01:09:08.011Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/storage.googleapis.com 200
[debug] [2025-02-12T01:09:08.011Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/storage.googleapis.com [omitted]
[info] +  functions: required API storage.googleapis.com is enabled 
[debug] [2025-02-12T01:09:08.013Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/pubsub.googleapis.com 200
[debug] [2025-02-12T01:09:08.013Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/pubsub.googleapis.com [omitted]
[info] +  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-02-12T01:09:08.039Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/run.googleapis.com 200
[debug] [2025-02-12T01:09:08.039Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/babaselo-4b77e/services/run.googleapis.com [omitted]
[info] +  functions: required API run.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-02-12T01:09:08.040Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:08.041Z] Checked if tokens are valid: true, expires at: 1739323636426
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-02-12T01:09:08.041Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:08.041Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:08.041Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/955642517662/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-02-12T01:09:08.043Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/955642517662/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-02-12T01:09:09.101Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/955642517662/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-02-12T01:09:09.101Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/955642517662/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-955642517662@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"109616226948661932480"}}
[debug] [2025-02-12T01:09:09.191Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/955642517662/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-02-12T01:09:09.191Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/955642517662/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-955642517662@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"113457749480933907462"}}
[debug] [2025-02-12T01:09:09.192Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:09.192Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:09.192Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e [none]
[debug] [2025-02-12T01:09:10.091Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e 200
[debug] [2025-02-12T01:09:10.091Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/babaselo-4b77e {"projectNumber":"955642517662","projectId":"babaselo-4b77e","lifecycleState":"ACTIVE","name":"BabaSelo","labels":{"firebase":"enabled"},"createTime":"2023-03-29T02:37:34.167463Z"}
[debug] [2025-02-12T01:09:10.093Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:10.093Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:10.093Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/babaselo-4b77e/billingInfo [none]
[debug] [2025-02-12T01:09:11.112Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/babaselo-4b77e/billingInfo 200
[debug] [2025-02-12T01:09:11.113Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/babaselo-4b77e/billingInfo {"name":"projects/babaselo-4b77e/billingInfo","projectId":"babaselo-4b77e","billingAccountName":"billingAccounts/01F63C-31E5E2-91F17D","billingEnabled":true}
[debug] [2025-02-12T01:09:11.114Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:11.114Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:11.114Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-02-12T01:09:12.095Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-02-12T01:09:12.096Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-955642517662.us-central1.cloudfunctions.appspot.com/05d4c573-75d0-44f4-9adf-91b5a275c206.zip?GoogleAccessId=service-955642517662@gcf-admin-robot.iam.gserviceaccount.com&Expires=1739324351&Signature=LF9uR7pldIwbMs98cBHqIQhhLjJdgRA3ZkZGTZqjTZ%2F7iEr1urR1mz7c4rTGqILBbPkTsTLIFubLkvaHnPg4LGHQo8tDxcwWmlNa5oIq8I%2FDBTg5yEDD9V8fYR6lAob%2BBJxlKbsY2dgXqewtkn%2BMBXHTHkwCZtpCDbMJdadalrKIT40NUJ8%2Bo%2F6UwwlIVQt6Yk3qWzZz5I1cMC56pzKSjRJ332RgLUtPe3fVbhbaFrphGPtEwLCKhK0%2FxM7qpmmgyQgIMEg4HyOlrE3yJKora1wsULr46UMc96FGfQAndH17MJyfIFfYU%2F%2BbrqCgfgO2jOd7ynywZ7WWzph9%2BQZJ2w%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-955642517662.us-central1.cloudfunctions.appspot.com","object":"05d4c573-75d0-44f4-9adf-91b5a275c206.zip"}}
[debug] [2025-02-12T01:09:12.097Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-955642517662.us-central1.cloudfunctions.appspot.com/05d4c573-75d0-44f4-9adf-91b5a275c206.zip GoogleAccessId=service-955642517662%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1739324351&Signature=LF9uR7pldIwbMs98cBHqIQhhLjJdgRA3ZkZGTZqjTZ%2F7iEr1urR1mz7c4rTGqILBbPkTsTLIFubLkvaHnPg4LGHQo8tDxcwWmlNa5oIq8I%2FDBTg5yEDD9V8fYR6lAob%2BBJxlKbsY2dgXqewtkn%2BMBXHTHkwCZtpCDbMJdadalrKIT40NUJ8%2Bo%2F6UwwlIVQt6Yk3qWzZz5I1cMC56pzKSjRJ332RgLUtPe3fVbhbaFrphGPtEwLCKhK0%2FxM7qpmmgyQgIMEg4HyOlrE3yJKora1wsULr46UMc96FGfQAndH17MJyfIFfYU%2F%2BbrqCgfgO2jOd7ynywZ7WWzph9%2BQZJ2w%3D%3D
[debug] [2025-02-12T01:09:12.097Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-955642517662.us-central1.cloudfunctions.appspot.com/05d4c573-75d0-44f4-9adf-91b5a275c206.zip [stream]
[debug] [2025-02-12T01:09:13.563Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-955642517662.us-central1.cloudfunctions.appspot.com/05d4c573-75d0-44f4-9adf-91b5a275c206.zip 200
[debug] [2025-02-12T01:09:13.563Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-955642517662.us-central1.cloudfunctions.appspot.com/05d4c573-75d0-44f4-9adf-91b5a275c206.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 22 (2nd Gen) function processCatVisits(us-central1)... 
[debug] [2025-02-12T01:09:13.572Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:13.572Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:13.572Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-02-12T01:09:13.572Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits {"name":"projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits","buildConfig":{"runtime":"nodejs22","entryPoint":"processCatVisits","source":{"storageSource":{"bucket":"gcf-v2-uploads-955642517662.us-central1.cloudfunctions.appspot.com","object":"05d4c573-75d0-44f4-9adf-91b5a275c206.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"babaselo-4b77e\",\"storageBucket\":\"babaselo-4b77e.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"babaselo-4b77e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/babaselo-4b77e/locations/us-central1/services/processCatVisits","FUNCTION_TARGET":"processCatVisits","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"dc5c5be771fede9a8e356fbe7bd5129a8e6fe099"}}
[debug] [2025-02-12T01:09:15.614Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits 200
[debug] [2025-02-12T01:09:15.615Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits {"name":"projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-02-12T01:09:15.197871336Z","target":"projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-02-12T01:09:15.615Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:15.615Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:15.615Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 [none]
[debug] [2025-02-12T01:09:16.536Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 200
[debug] [2025-02-12T01:09:16.536Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 {"name":"projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-02-12T01:09:15.197871336Z","target":"projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits","buildConfig":{"runtime":"nodejs22","entryPoint":"processCatVisits","source":{"storageSource":{"bucket":"gcf-v2-sources-955642517662-us-central1","object":"processCatVisits/function-source.zip","generation":"1739322555152976"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/babaselo-4b77e/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-955642517662-us-central1","object":"processCatVisits/function-source.zip","generation":"1739321415323528"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/babaselo-4b77e/locations/us-central1/services/processcatvisits","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"babaselo-4b77e\",\"storageBucket\":\"babaselo-4b77e.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"babaselo-4b77e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/babaselo-4b77e/locations/us-central1/services/processCatVisits","FUNCTION_TARGET":"processCatVisits","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://processcatvisits-wgj2hge6tq-uc.a.run.app","serviceAccountEmail":"955642517662-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"processcatvisits-00013-bev","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"dc5c5be771fede9a8e356fbe7bd5129a8e6fe099"},"environment":"GEN_2","url":"https://us-central1-babaselo-4b77e.cloudfunctions.net/processCatVisits","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/955642517662/locations/us-central1/builds/02028f4b-ac93-4d8a-92c6-f1a66779d17c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/02028f4b-ac93-4d8a-92c6-f1a66779d17c?project=955642517662"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/955642517662/locations/us-central1/builds/02028f4b-ac93-4d8a-92c6-f1a66779d17c"},"done":false}
[debug] [2025-02-12T01:09:17.041Z] [update-default-us-central1-processCatVisits] Retrying task index 0
[debug] [2025-02-12T01:09:17.041Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:17.041Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:17.041Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 [none]
[debug] [2025-02-12T01:09:17.936Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 200
[debug] [2025-02-12T01:09:17.936Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 {"name":"projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-02-12T01:09:15.197871336Z","target":"projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits","buildConfig":{"runtime":"nodejs22","entryPoint":"processCatVisits","source":{"storageSource":{"bucket":"gcf-v2-sources-955642517662-us-central1","object":"processCatVisits/function-source.zip","generation":"1739322555152976"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/babaselo-4b77e/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-955642517662-us-central1","object":"processCatVisits/function-source.zip","generation":"1739321415323528"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/babaselo-4b77e/locations/us-central1/services/processcatvisits","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"babaselo-4b77e\",\"storageBucket\":\"babaselo-4b77e.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"babaselo-4b77e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/babaselo-4b77e/locations/us-central1/services/processCatVisits","FUNCTION_TARGET":"processCatVisits","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://processcatvisits-wgj2hge6tq-uc.a.run.app","serviceAccountEmail":"955642517662-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"processcatvisits-00013-bev","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"dc5c5be771fede9a8e356fbe7bd5129a8e6fe099"},"environment":"GEN_2","url":"https://us-central1-babaselo-4b77e.cloudfunctions.net/processCatVisits","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/955642517662/locations/us-central1/builds/02028f4b-ac93-4d8a-92c6-f1a66779d17c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/02028f4b-ac93-4d8a-92c6-f1a66779d17c?project=955642517662"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/955642517662/locations/us-central1/builds/02028f4b-ac93-4d8a-92c6-f1a66779d17c"},"done":false}
[debug] [2025-02-12T01:09:18.940Z] [update-default-us-central1-processCatVisits] Retrying task index 0
[debug] [2025-02-12T01:09:18.940Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:18.940Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:18.940Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 [none]
[debug] [2025-02-12T01:09:19.819Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 200
[debug] [2025-02-12T01:09:19.819Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 {"name":"projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-02-12T01:09:15.197871336Z","target":"projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits","buildConfig":{"runtime":"nodejs22","entryPoint":"processCatVisits","source":{"storageSource":{"bucket":"gcf-v2-sources-955642517662-us-central1","object":"processCatVisits/function-source.zip","generation":"1739322555152976"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/babaselo-4b77e/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-955642517662-us-central1","object":"processCatVisits/function-source.zip","generation":"1739321415323528"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/babaselo-4b77e/locations/us-central1/services/processcatvisits","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"babaselo-4b77e\",\"storageBucket\":\"babaselo-4b77e.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"babaselo-4b77e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/babaselo-4b77e/locations/us-central1/services/processCatVisits","FUNCTION_TARGET":"processCatVisits","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://processcatvisits-wgj2hge6tq-uc.a.run.app","serviceAccountEmail":"955642517662-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"processcatvisits-00013-bev","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"dc5c5be771fede9a8e356fbe7bd5129a8e6fe099"},"environment":"GEN_2","url":"https://us-central1-babaselo-4b77e.cloudfunctions.net/processCatVisits","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/955642517662/locations/us-central1/builds/02028f4b-ac93-4d8a-92c6-f1a66779d17c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/02028f4b-ac93-4d8a-92c6-f1a66779d17c?project=955642517662"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/955642517662/locations/us-central1/builds/02028f4b-ac93-4d8a-92c6-f1a66779d17c"},"done":false}
[debug] [2025-02-12T01:09:21.831Z] [update-default-us-central1-processCatVisits] Retrying task index 0
[debug] [2025-02-12T01:09:21.831Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:21.832Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:21.832Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 [none]
[debug] [2025-02-12T01:09:22.722Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 200
[debug] [2025-02-12T01:09:22.722Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 {"name":"projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-02-12T01:09:15.197871336Z","target":"projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits","buildConfig":{"runtime":"nodejs22","entryPoint":"processCatVisits","source":{"storageSource":{"bucket":"gcf-v2-sources-955642517662-us-central1","object":"processCatVisits/function-source.zip","generation":"1739322555152976"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/babaselo-4b77e/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-955642517662-us-central1","object":"processCatVisits/function-source.zip","generation":"1739321415323528"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/babaselo-4b77e/locations/us-central1/services/processcatvisits","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"babaselo-4b77e\",\"storageBucket\":\"babaselo-4b77e.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"babaselo-4b77e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/babaselo-4b77e/locations/us-central1/services/processCatVisits","FUNCTION_TARGET":"processCatVisits","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://processcatvisits-wgj2hge6tq-uc.a.run.app","serviceAccountEmail":"955642517662-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"processcatvisits-00013-bev","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"dc5c5be771fede9a8e356fbe7bd5129a8e6fe099"},"environment":"GEN_2","url":"https://us-central1-babaselo-4b77e.cloudfunctions.net/processCatVisits","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/955642517662/locations/us-central1/builds/02028f4b-ac93-4d8a-92c6-f1a66779d17c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/02028f4b-ac93-4d8a-92c6-f1a66779d17c?project=955642517662"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/955642517662/locations/us-central1/builds/02028f4b-ac93-4d8a-92c6-f1a66779d17c"},"done":false}
[debug] [2025-02-12T01:09:26.727Z] [update-default-us-central1-processCatVisits] Retrying task index 0
[debug] [2025-02-12T01:09:26.727Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:26.727Z] Checked if tokens are valid: true, expires at: 1739323636426
[debug] [2025-02-12T01:09:26.727Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 [none]
[debug] [2025-02-12T01:09:27.600Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 200
[debug] [2025-02-12T01:09:27.600Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4 {"name":"projects/babaselo-4b77e/locations/us-central1/operations/operation-1739322554096-62de796fc9c5f-1d2e2cab-e48df0f4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-02-12T01:09:15.197871336Z","target":"projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/babaselo-4b77e/locations/us-central1/functions/processCatVisits","buildConfig":{"runtime":"nodejs22","entryPoint":"processCatVisits","source":{"storageSource":{"bucket":"gcf-v2-sources-955642517662-us-central1","object":"processCatVisits/function-source.zip","generation":"1739322555152976"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/babaselo-4b77e/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-955642517662-us-central1","object":"processCatVisits/function-source.zip","generation":"1739321415323528"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/babaselo-4b77e/locations/us-central1/services/processcatvisits","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"babaselo-4b77e\",\"storageBucket\":\"babaselo-4b77e.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"babaselo-4b77e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/babaselo-4b77e/locations/us-central1/services/processCatVisits","FUNCTION_TARGET":"processCatVisits","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://processcatvisits-wgj2hge6tq-uc.a.run.app","serviceAccountEmail":"955642517662-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"processcatvisits-00013-bev","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"dc5c5be771fede9a8e356fbe7bd5129a8e6fe099"},"environment":"GEN_2","url":"https://us-central1-babaselo-4b77e.cloudfunctions.net/processCatVisits","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/955642517662/locations/us-central1/builds/02028f4b-ac93-4d8a-92c6-f1a66779d17c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/02028f4b-ac93-4d8a-92c6-f1a66779d17c?project=955642517662"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/955642517662/locations/us-central1/builds/02028f4b-ac93-4d8a-92c6-f1a66779d17c"},"done":false}
